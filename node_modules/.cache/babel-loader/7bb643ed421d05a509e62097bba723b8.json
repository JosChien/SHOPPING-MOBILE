{"ast":null,"code":"var _jsxFileName = \"D:\\\\PROJECT React\\\\shopping\\\\src\\\\components\\\\dataCart.js\";\nimport React, { Component } from 'react';\nexport const CartContext = React.createContext();\nexport default class CartProviders extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cartItems: []\n    };\n    this.addToCart = this.addToCart.bind(this);\n    this.increase = this.increase.bind(this);\n    this.reduce = this.reduce.bind(this);\n    this.removeItem = this.removeItem.bind(this);\n    this.total = this.total.bind(this);\n  }\n\n  addToCart(product) {\n    const cartItems = this.state.cartItems;\n\n    if (cartItems.filter(item => item.id === product.id).length !== 0) {\n      var mapID = cartItems.map(item => item.id);\n      var key = mapID.indexOf(product.id);\n      var stateCopy = Object.assign({}, this.state);\n      stateCopy.cartItems[key].quantity += 1;\n      this.setState(stateCopy);\n      return;\n    }\n\n    product.quantity = 1;\n    this.setState({\n      cartItems: cartItems.concat(product)\n    });\n  }\n\n  increase(item) {\n    const cartItems = this.state.cartItems;\n    let index = cartItems.indexOf(item);\n    let stateCopy = Object.assign({}, this.state);\n    stateCopy.cartItems[index].quantity += 1;\n    this.setState(stateCopy);\n  }\n\n  reduce(item) {\n    const cartItems = this.state.cartItems;\n    let index = cartItems.indexOf(item);\n    let stateCopy = Object.assign({}, this.state);\n\n    if (stateCopy.cartItems[index].quantity <= 1) {\n      return;\n    }\n\n    stateCopy.cartItems[index].quantity -= 1;\n    this.setState(stateCopy);\n  }\n\n  removeItem(item) {\n    const cartItems = this.state.cartItems;\n    let index = cartItems.indexOf(item);\n    this.setState({\n      cartItems: [...cartItems.slice(0, index), ...cartItems.slice(index + 1)]\n    });\n  }\n\n  total() {\n    const cartItems = this.state.cartItems;\n    let arr = cartItems.map(value => value.price * value.quantity);\n    return arr.reduce((currentValue, Total) => currentValue + Total, 0);\n  }\n\n  render() {\n    return React.createElement(CartContext.Provider, {\n      value: {\n        cartItems: this.state.cartItems,\n        addToCart: this.addToCart,\n        increase: this.increase,\n        reduce: this.reduce,\n        removeItem: this.removeItem,\n        total: this.total\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}","map":{"version":3,"sources":["D:\\PROJECT React\\shopping\\src\\components\\dataCart.js"],"names":["React","Component","CartContext","createContext","CartProviders","constructor","props","state","cartItems","addToCart","bind","increase","reduce","removeItem","total","product","filter","item","id","length","mapID","map","key","indexOf","stateCopy","Object","assign","quantity","setState","concat","index","slice","arr","value","price","currentValue","Total","render","children"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\n\r\nexport const CartContext = React.createContext();\r\n\r\nexport default class CartProviders extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            cartItems :[]\r\n        };\r\n        this.addToCart = this.addToCart.bind(this);  \r\n        this.increase = this.increase.bind(this);\r\n        this.reduce = this.reduce.bind(this);\r\n        this.removeItem = this.removeItem.bind(this);\r\n        this.total = this.total.bind(this)\r\n    }\r\n        addToCart(product){\r\n            const {cartItems} = this.state;\r\n            if(cartItems.filter(item =>item.id === product.id).length !== 0){\r\n                var mapID = cartItems.map(item => item.id)\r\n                var key = mapID.indexOf(product.id);\r\n                var stateCopy = Object.assign({}, this.state);\r\n                    stateCopy.cartItems[key].quantity += 1;\r\n                    this.setState(stateCopy);\r\n                    return\r\n            }\r\n            product.quantity = 1;\r\n            this.setState({\r\n                cartItems: cartItems.concat(product)\r\n            })\r\n        }   \r\n\r\n        increase(item){\r\n            const {cartItems} = this.state\r\n            let index = cartItems.indexOf(item)\r\n            let stateCopy = Object.assign({}, this.state);\r\n            stateCopy.cartItems[index].quantity += 1;\r\n            this.setState(stateCopy);\r\n        }\r\n\r\n        reduce(item){\r\n            const {cartItems} = this.state\r\n            let index = cartItems.indexOf(item)\r\n            let stateCopy = Object.assign({}, this.state);\r\n            if(stateCopy.cartItems[index].quantity<=1){\r\n                return;\r\n            }\r\n            stateCopy.cartItems[index].quantity -= 1;\r\n            this.setState(stateCopy);\r\n        }\r\n\r\n        removeItem(item){\r\n            const {cartItems}=this.state\r\n            let index = cartItems.indexOf(item);\r\n            this.setState({\r\n                cartItems: [...cartItems.slice(0,index),...cartItems.slice(index+1)]\r\n            })\r\n        }\r\n        \r\n        total(){\r\n            const {cartItems} = this.state;\r\n            let arr = cartItems.map(value => value.price*value.quantity);\r\n            return arr.reduce((currentValue,Total) => currentValue+Total,0)\r\n        }\r\n\r\n    render(){\r\n        return(\r\n            <CartContext.Provider value = {{\r\n                cartItems: this.state.cartItems,\r\n                addToCart: this.addToCart,\r\n                increase: this.increase,\r\n                reduce: this.reduce,\r\n                removeItem: this.removeItem,\r\n                total: this.total\r\n            }}>\r\n                {this.props.children}\r\n            </CartContext.Provider>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}